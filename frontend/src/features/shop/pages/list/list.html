<section class="search">
  <input
    type="text"
    placeholder="Keresés…"
    [value]="search()"
    (input)="search.set(($any($event.target)).value)"
    (keyup.enter)="doSearch()"
  >
  <button (click)="doSearch()">Keresés</button>
</section>

<!-- Kategória chipek -->
<div class="categories" *ngIf="categories().length">
  <button
    class="chip"
    [class.active]="!selectedCategory()"
    (click)="selectCategory(null)"
  >
    Összes
  </button>

  <button
    class="chip"
    *ngFor="let c of categories()"
    [class.active]="selectedCategory() === c.slug"
    (click)="selectCategory(c.slug)"
  >
    {{ c.name }}
  </button>
</div>

<section *ngIf="loading()">Betöltés…</section>
<section *ngIf="error()" class="error">Hiba: {{ error() }}</section>

<section class="grid" *ngIf="!loading() && !error()">
  <ui-product-card *ngFor="let p of products()" 
  [product]="p"
  (addToCart)="onAddToCart($event)"
  (viewDetails)="onViewDetails($event)"
  ></ui-product-card>
</section>