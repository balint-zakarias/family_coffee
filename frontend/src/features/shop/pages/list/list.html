<section class="search">
  <div class="search-input-container">
    <input
      type="text"
      placeholder="Keres√©s‚Ä¶"
      [value]="search()"
      (input)="onSearchChange(($any($event.target)).value)"
    >
    <button 
      *ngIf="search()" 
      class="clear-btn" 
      (click)="clearSearch()"
      type="button"
    >
      √ó
    </button>
  </div>
</section>

<!-- Kateg√≥ria chipek -->
<div class="categories" *ngIf="categories().length">
  <button
    class="chip"
    [class.active]="!selectedCategory()"
    (click)="selectCategory(null)"
  >
    √ñsszes
  </button>

  <button
    class="chip"
    *ngFor="let c of categories()"
    [class.active]="selectedCategory() === c.slug"
    (click)="selectCategory(c.slug)"
  >
    {{ c.name }}
  </button>
</div>

<div class="products-container">
  <section *ngIf="loading()" class="loading">
    <div class="spinner"></div>
    <p>Bet√∂lt√©s‚Ä¶</p>
  </section>

  <section *ngIf="error()" class="error">Hiba: {{ error() }}</section>

  <section class="grid" *ngIf="!loading() && !error() && products().length > 0">
    <ui-product-card *ngFor="let p of products()" 
    [product]="p"
    (addToCart)="onAddToCart($event)"
    (viewDetails)="onViewDetails($event)"
    ></ui-product-card>
  </section>

  <section class="empty-products" *ngIf="!loading() && !error() && products().length === 0">
    <div class="empty-content">
      <div class="empty-icon">üì¶</div>
      <h2>Nincs tal√°lat</h2>
      <p *ngIf="search() || selectedCategory()">A keres√©si felt√©teleknek megfelel≈ë term√©k nem tal√°lhat√≥.</p>
      <p *ngIf="!search() && !selectedCategory()">Jelenleg nincsenek el√©rhet≈ë term√©kek.</p>
      <button class="clear-filters-btn" *ngIf="search() || selectedCategory()" (click)="clearFilters()">
        Sz≈±r≈ëk t√∂rl√©se
      </button>
    </div>
  </section>
</div>